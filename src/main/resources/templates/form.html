<!DOCTYPE html>
<html lang="en">
<head>
    <title>Product Form</title>
    <!-- In the <head> section for CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Before the closing </body> tag for JavaScript (and Popper.js if needed) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</head>
<body>
<form method="post" th:action="@{${book != null} ? '/books/' + ${book.id} : '/books'}">
    <label for="title">Book title:</label>
    <input type="text"
           id="title"
           name="title"
           th:value="${book != null ? book.title : ''}"
           required>

    <div>
        <label for="genre">Genre</label>
        <input type="text"
               id="genre"
               name="genre"
               th:value="${book != null ? book.genre : ''}"
               required>
    </div>

    <div>
        <label for="averageRating">Book rating:</label><br/>
        <input type="number"
               id="averageRating"
               name="averageRating"
               min="1"
               th:value="${book != null ? book.averageRating : ''}"
               required>
    </div>


    <div>
<!--        @RequestParam String title,-->
<!--        @RequestParam String genre,-->
<!--        @RequestParam double averageRating,-->
<!--        @RequestParam Long authorId    mn E BITNO IMETO VO REQ KAKO GO POBARUVAME TAKA I VO NAME TREVADA E-->
        <label for="authorId">Author</label><br/>
        <select id="authorId" name="authorId" required>
            <option th:each="author : ${authors}"
                    th:value="${author.id}"
                    th:text="${author.getName()}+' '+${author.getSurname()}"
                    th:selected="${book != null && book.author == author}">
        </select>
    </div>


    <button id="submit" type="submit">Submit</button>
    <a id="back" href="/books" type="button" class="btn btn-primary">Back to Books</a>
</form>
